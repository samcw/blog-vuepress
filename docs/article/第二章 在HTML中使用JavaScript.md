---
title: 在HTML中使用JavaScript
category: JavaScript
description: 在重写了前面的 createFunctions()函数后，每个函数就会返回各自不同的索引值了。在这个版 本中，我们没有直接把闭包赋值给数组，而是定义了一个匿名函数，并将立即执行该匿名函数的结果赋 给数组。这里的匿名函数有一个参数 num，也就是最终的函数要返回的值。在调用每个匿名函数时，我 们传入了变量 i。
time: 2020-03-10
---
## `<script>`元素
1. 向`html`中注入`JavaScript`代码的主要方法，就是使用`<script>`元素。`<script>`有以下6个属性：
- `async`：可选。表示应该立即下载脚本，但是不妨碍页面中的其他操作。其只对外部脚本文件有效。
- `charset`：可选。指定代码的字符集，**几乎不用**。
- `defer`：可选。表示脚本可以延迟到文档完全被解析和显示之后再执行。其只对外部文件有效。
- `language`：已废弃。
- `src`：可选。表示包含要执行代码的外部文件。
- `type`：可选。可以看成是`language`属性的替代。其最通用的值为`text/javascript`。

2. 包含在`<script>`元素中的代码，将会被**从上至下**解析。**在解释器对所有的代码解析完成之前，页面的其余内容都不会被加载和显示。**
3. 如果要在在`<script>`元素加载外部`JavaScript`代码，那么`src`属性就是必须的。
#### 标签的位置
1. 传统的做法是将其放到`<head>`元素中，不过，若是`JavaScript`解析过慢，`<body>`中的代码都不会被解析。所以，现代Web应用程序一般都会把`JavaScript`放在`<body>`之后。
2. 在`<script>`元素中设置`defer`属性，相当于告诉浏览器立刻下载，但是延迟执行。但是，一般建议只包含一个延迟脚本，同时，把延迟脚本放在页面底部是最佳选择。
3. 在`<script>`元素中设置`async`属性,实现异步加载其他内容，建议异步脚本不要在加载期间修改DOM。
#### 嵌入代码与外部文件
1. 一般尽量使用外部文件包含的`JavaScript`代码，以保证其可维护性、可缓存性以及可适应未来。
#### 文档模式
1. 分为：混杂模式以及标准模式。
#### `<noscript>`元素
1. 创造一个`<noscript>`元素，以便在不支持`JavaScript`的浏览器中，代替显示的内容，其可以出现在`<body>`元素中的任何HTML元素。
#### 小结
1. 在包含外部`JavaScript`文件时，必须将`src`属性设置为指向相应文件的URL。而这个文件既可以是与包含它的页面位于同一个服务器上的文件，也可以是其他任何域中的文件。
2. 所有`<script>`元素都会按照它们在页面中出现的先后顺序依次被解析。在不使用`defer`和`async`属性的情况下，只有在解析完前面`<script>`元素中的代码之后，才开始解析后面`<script>`元素中的代码。
3. 由于浏览器会先解析完不使用`defer`属性的`<script>`元素中的代码，然后再解析后面的内容，所以一般应该把`<script>`元素放在页面最后，即主要内容后面，`</body>`标签前面。
4. 使用`defer`属性可以让脚本在文档完全呈现之后再执行。延迟脚本总是按照指定它们的顺序执行。
5. 使用`async`属性可以表示当前脚本不必等待其他脚本，也不必阻塞文档呈现。不能保证异步脚本按照它们在页面中出现的顺序执行。
